# simulate with n = 500
h1 <- rep(0, 100)
h2 <- rep(0, 100)
for(j in 1:1000){
check1 <- 0
check2 <- 0
for(i in 1:1000){
check <- trial(500)
check1 <- check1 + check[1]
check2 <- check2 + check[2]
}
h1[j] <- check1/1000
h2[j] <- check2/1000
}
# simulate with n = 500
check1 <- 0
check2 <- 0
for(i in 1:1000){
check <- trial(500)
check1 <- check1 + check[1]
check2 <- check2 + check[2]
}
# Clear the environment
rm(list = ls())
#load packages
require(tidyverse)
require(ggplot2)
require(stargazer)
# set directory
root <- "/Users/georgianaliang/Documents/ML"
trial <- function(n){
# draw n samples from normal distribution with mean 0, variance 1
x <- rnorm(n)
# estimate mean and standard deviation
mu <- mean(x)
sigma <- sqrt(sd(x))
# get the z stat at level 0.90
z <- qnorm(0.95)
# construct confidence interval with known sd and check if covered
CI1 <- c(mu - 1 * z/sqrt(n), mu + 1 * z/sqrt(n))
if(CI1[1] < 0 & CI1[2] > 0){
check1 <- 1
} else{
check1 <- 0
}
# construct confidence interval with unknown sd and check if covered
CI2 <- c(mu - sigma * z/sqrt(n), mu + sigma * z/sqrt(n))
if(CI2[1] < 0 & CI2[2] > 0){
check2 <- 1
} else{
check2 <- 0
}
# return a vector with the results
return(c(check1, check2))
}
